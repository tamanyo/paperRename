# 論文PDF自動リネームツール

このツールは論文PDFファイルを整理するためのものです。指定したフォルダ内のすべてのPDFファイルを検索し、「論文の題名(論文著者（最初の1人）).pdf」の形式でリネームします。

## 機能

- 複数の入力フォルダを指定可能（すべてのフォルダを再帰的に検索）
- 本文テキストから高度なアルゴリズムでタイトルと著者を抽出
  - 複数の抽出方法を組み合わせて信頼性を向上
  - 論文の最初のページの構造を分析してタイトルと著者を特定
  - 副題と著者を正確に区別するための高度なパターンマッチング
  - ArXiv識別子からの著者情報抽出に対応
- 「論文の題名(論文著者).pdf」形式でファイル名を設定
- リネームされたファイルは指定した出力フォルダに保存
- 処理済みのファイルは自動的に別フォルダに移動（重複処理を防止）
- 重複ファイルの自動検出とスキップ機能

## 必要条件

- Python 3.6以上
- 必要なパッケージ：PyPDF2, PyYAML

## インストール

必要なパッケージをインストールします。

```
pip install PyPDF2 PyYAML
```

## 使用方法

1. `config.yaml` ファイルで入力フォルダと出力フォルダを設定します
   - `input_folders`: 論文PDFが保存されているフォルダのリスト（複数指定可能）
   - `output_folder`: リネームされたPDFを保存するフォルダパス（デフォルト: ./outputs）
   - `processed_folder`: 処理済みのPDFファイルを移動するフォルダパス（デフォルト: ./processed_papers）

2. スクリプトを実行します

```
python paper_rename.py
```

## 設定例

```yaml
# 論文PDFを検索するフォルダパス（絶対パスまたは相対パス）
# 複数のフォルダを指定する場合はリスト形式で記述
input_folders:
  - "./papers"
  - "./other_papers"
  - "C:/Users/username/Documents/research_papers"

# リネームしたPDFを保存するフォルダパス（絶対パスまたは相対パス）
output_folder: "./outputs"

# 処理済みのPDFファイルの移動先フォルダ
processed_folder: "./processed_papers"
```

## 処理の流れ

1. 設定ファイル（config.yaml）から入力フォルダ、出力フォルダ、処理済みフォルダの情報を読み取ります
2. 指定した入力フォルダ内のすべてのPDFファイルを再帰的に検索します
3. ファイルハッシュを計算し、重複ファイルをスキップします
4. 各PDFファイルからタイトルと著者を抽出します
   - 複数の抽出方法を試行し、最適な結果を選択
   - 副題と著者を正確に区別するためのパターンマッチングを適用
5. 「論文の題名(論文著者).pdf」の形式で新しいファイル名を作成します
6. リネームされたファイルを出力フォルダにコピーします
7. 処理済みのファイルを処理済みフォルダに移動します

これにより、論文PDFを簡単に整理し、後で検索しやすくなります。

## 注意事項

- 論文のフォーマットによって抽出精度が変わります（一般的な学術論文形式に最適化）
- 非常に特殊な構造の論文では抽出が不完全な場合があります
- 処理中のエラーはログファイルに記録されます
- タイトルや著者名が異常に長い場合、自動的に切り詰められます
